(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,a){e.exports=a(50)},25:function(e,t,a){},27:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(12),s=a.n(o),c=(a(25),a(13)),i=a(14),u=a(17),l=a(15),m=a(18),h=a(2),p=(a(27),function(e){var t,a=e.book;return r.a.createElement("a",{href:a.previewLink},r.a.createElement("img",{src:(t=a.imageLinks.thumbnail,"https"+t.slice(4)),alt:"book thumbnail"}))}),b=function(e){var t=e.book;return r.a.createElement("h3",null,r.a.createElement("a",{href:t.previewLink},t.title))},v=function(e){var t=e.book;return r.a.createElement("p",{className:"italics"},"by ",t.authors.join(", "))},f=function(e){var t=e.book;return r.a.createElement("p",null,"Published by ",t.publisher)},d=function(e){var t=e.book;return r.a.createElement("div",{className:"bookResult"},r.a.createElement(b,{book:t.volumeInfo}),t.volumeInfo.authors&&r.a.createElement(v,{book:t.volumeInfo}),t.volumeInfo.imageLinks?r.a.createElement(p,{book:t.volumeInfo}):r.a.createElement("p",{className:"grey"},"Image not available"),t.volumeInfo.publisher&&r.a.createElement(f,{book:t.volumeInfo}))},g=function(e){var t=e.pageIdx,a=e.getNewPage;return r.a.createElement("div",{id:"pageNav"},0!==t?r.a.createElement("button",{id:"prev",onClick:function(){a("prev")}},"Back"):null,r.a.createElement("button",{id:"next",onClick:function(){a("next")}},"Next"))},k=a(3),w=a.n(k),E=a(4),y=a(16),x=a.n(y);function I(){return(I=Object(E.a)(w.a.mark(function e(t){var a,n;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=this.state.query,e.next=4,O(a,0);case 4:n=e.sent,this.setState({results:n,query:"",currSearch:a,pageIdx:0});case 6:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function j(){return(j=Object(E.a)(w.a.mark(function e(t){var a,n,r,o;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="next"===t?this.state.resultsPerPage:-1*this.state.resultsPerPage,n=this.state.pageIdx+a,r=this.state.currSearch,e.next=5,O(r,n);case 5:o=e.sent,this.setState({pageIdx:n,results:o}),window.scrollTo(0,0);case 8:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var O=function(){var e=Object(E.a)(w.a.mark(function e(t,a){var n;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("https://www.googleapis.com/books/v1/volumes?q=".concat((r=t,r.toLowerCase().split(" ").join("+")),"&startIndex=").concat(a));case 3:return n=e.sent,e.abrupt("return",n.data.items);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return","error");case 10:case"end":return e.stop()}var r},e,this,[[0,7]])}));return function(t,a){return e.apply(this,arguments)}}(),N=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(l.a)(t).call(this))).state={query:"",currSearch:"",pageIdx:0,results:[],resultsPerPage:10},e.handleSubmit=function(e){return I.apply(this,arguments)}.bind(Object(h.a)(Object(h.a)(e))),e.handleChange=function(e){this.setState({query:e.target.value})}.bind(Object(h.a)(Object(h.a)(e))),e.getNewPage=function(e){return j.apply(this,arguments)}.bind(Object(h.a)(Object(h.a)(e))),e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.results;return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Find your next book"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("input",{id:"search",type:"text",name:"query",value:this.state.query,onChange:this.handleChange}),r.a.createElement("button",{type:"submit",id:"submit"},"Search")),r.a.createElement("div",{className:"results"},Array.isArray(e)?r.a.createElement(r.a.Fragment,null,e.length?r.a.createElement("h3",null,"Results for '",this.state.currSearch,"'"):null,e.map(function(e){return r.a.createElement(d,{key:e.id,book:e})})):r.a.createElement("p",{className:"grey"},"'No matching results. Try again.'")),Array.isArray(e)&&e.length?r.a.createElement(g,{pageIdx:this.state.pageIdx,getNewPage:this.getNewPage}):null)}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[19,2,1]]]);
//# sourceMappingURL=main.e56d2191.chunk.js.map