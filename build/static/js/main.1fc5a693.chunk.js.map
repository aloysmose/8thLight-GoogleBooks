{"version":3,"sources":["Components/ImageLink.js","utilities/utilFunctions.js","Components/TitleLink.js","Components/Authors.js","Components/Publisher.js","Components/Book.js","utilities/eventFunctions.js","App.js","serviceWorker.js","index.js"],"names":["ImageLink","props","link","book","react_default","a","createElement","href","previewLink","src","imageLinks","thumbnail","slice","alt","TitleLink","title","Authors","className","authors","join","Publisher","publisher","Book","Components_TitleLink","volumeInfo","Components_Authors","Components_ImageLink","Components_Publisher","_callee2","event","query","response","regenerator_default","wrap","_context2","prev","next","preventDefault","this","state","handleRequest","sent","setState","results","currSearch","pageIdx","stop","_callee3","direction","pageDiff","newIdx","_context3","resultsPerPage","window","scrollTo","_ref","Object","asyncToGenerator","mark","_callee","idx","_context","axios","get","concat","input","toLowerCase","split","abrupt","data","items","t0","_x3","_x4","apply","arguments","App","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleSubmit","_x","_handleSubmit","bind","assertThisInitialized","handleChange","target","value","getNewPage","_x2","_getNewPage","_this2","onSubmit","id","type","name","onChange","Array","isArray","Fragment","length","map","Components_Book","key","onClick","Component","Boolean","location","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.1fc5a693.chunk.js","sourcesContent":["import React from 'react';\nimport { convertToHttps } from '../utilities/utilFunctions';\n\nconst ImageLink = props => {\n  const { book } = props;\n  return (\n    <a href={book.previewLink}>\n      <img\n        src={convertToHttps(book.imageLinks.thumbnail)}\n        alt=\"book thumbnail\"\n      />\n    </a>\n  );\n};\n\nexport default ImageLink;\n","export const convertToHttps = link => {\n  return 'https' + link.slice(4);\n};\n\nexport const formatQuery = input => {\n  return input\n    .toLowerCase()\n    .split(' ')\n    .join('+');\n};\n","import React from 'react';\n\nconst TitleLink = props => {\n  const { book } = props;\n  return (\n    <h3>\n      <a href={book.previewLink}>{book.title}</a>\n    </h3>\n  );\n};\n\nexport default TitleLink;\n","import React from 'react';\n\nconst Authors = props => {\n  const { book } = props;\n  return <p className=\"italics\">by {book.authors.join(', ')}</p>;\n};\n\nexport default Authors;\n","import React from 'react';\n\nconst Publisher = props => {\n  const { book } = props;\n  return <p>Published by {book.publisher}</p>;\n};\n\nexport default Publisher;\n","import React from 'react';\nimport ImageLink from './ImageLink';\nimport TitleLink from './TitleLink';\nimport Authors from './Authors';\nimport Publisher from './Publisher';\n\nconst Book = props => {\n  const { book } = props;\n\n  return (\n    <div className=\"bookResult\">\n      <TitleLink book={book.volumeInfo} />\n      {/* Display book information, guarding against missing info*/}\n      {book.volumeInfo.authors && <Authors book={book.volumeInfo} />}\n\n      {book.volumeInfo.imageLinks ? (\n        <ImageLink book={book.volumeInfo} />\n      ) : (\n        <p className=\"grey\">Image not available</p>\n      )}\n\n      {book.volumeInfo.publisher && <Publisher book={book.volumeInfo} />}\n    </div>\n  );\n};\n\nexport default Book;\n","import axios from 'axios';\nimport { formatQuery } from './utilFunctions';\n\nexport async function handleSubmit(event) {\n  event.preventDefault();\n  const { query } = this.state;\n  const response = await handleRequest(query, 0);\n  this.setState({\n    results: response,\n    query: '',\n    currSearch: query,\n    pageIdx: 0,\n  });\n}\n\nexport function handleChange(event) {\n  this.setState({\n    query: event.target.value,\n  });\n}\n\nexport async function getNewPage(direction) {\n  let pageDiff;\n  direction === 'next'\n    ? (pageDiff = this.state.resultsPerPage)\n    : (pageDiff = this.state.resultsPerPage * -1);\n  const newIdx = this.state.pageIdx + pageDiff;\n  const query = this.state.currSearch;\n  const response = await handleRequest(query, newIdx);\n  this.setState({\n    pageIdx: newIdx,\n    results: response,\n  });\n  window.scrollTo(0, 0);\n}\n\nexport let handleRequest = async function(query, idx) {\n  try {\n    let response = await axios.get(\n      `https://www.googleapis.com/books/v1/volumes?q=${formatQuery(\n        query\n      )}&startIndex=${idx}`\n    );\n    return response.data.items;\n  } catch (error) {\n    return 'error';\n  }\n};\n","import React, { Component } from 'react';\nimport './App.css';\nimport { Book } from './Components';\nimport {\n  handleSubmit,\n  handleChange,\n  getNewPage,\n} from './utilities/eventFunctions';\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      query: '',\n      currSearch: '',\n      pageIdx: 0,\n      results: [],\n      resultsPerPage: 10,\n    };\n    this.handleSubmit = handleSubmit.bind(this);\n    this.handleChange = handleChange.bind(this);\n    this.getNewPage = getNewPage.bind(this);\n  }\n\n  render() {\n    const { results } = this.state;\n    // const thisComponent = this;\n    return (\n      <div className=\"App\">\n        <h1>Find your next book</h1>\n        <form onSubmit={this.handleSubmit}>\n          <input\n            id=\"search\"\n            type=\"text\"\n            name=\"query\"\n            value={this.state.query}\n            onChange={this.handleChange}\n          />\n          <button type=\"submit\" id=\"submit\">\n            Search\n          </button>\n        </form>\n        <div className=\"results\">\n          {Array.isArray(results) ? (\n            <React.Fragment>\n              {results.length ? (\n                <h3>Results for '{this.state.currSearch}'</h3>\n              ) : null}\n              {results.map(book => (\n                <Book key={book.id} book={book} />\n              ))}\n            </React.Fragment>\n          ) : (\n            <p className=\"grey\">'No matching results. Try again.'</p>\n          )}\n        </div>\n        {Array.isArray(results) && results.length ? (\n          <div id=\"pageNav\">\n            {this.state.pageIdx !== 0 ? (\n              <button\n                id=\"prev\"\n                onClick={() => {\n                  this.getNewPage('prev');\n                }}\n              >\n                Back\n              </button>\n            ) : null}\n\n            <button\n              id=\"next\"\n              onClick={() => {\n                this.getNewPage('next');\n              }}\n            >\n              Next\n            </button>\n          </div>\n        ) : null}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}